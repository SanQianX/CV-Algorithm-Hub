import{d as ts,o as ls,c as o,p as s,I as v,J as y,u as ns,E as M,z as n,B as m,C as $,K as os,A as g,b as R,H as V,T as D,x as as,r as c,g as N,e as a,y as S,L as z,G as q,D as C}from"./vendor-DvXSRe4O.js";import{u as is}from"./index-C15kKDtp.js";import{_ as ds}from"./_plugin-vue_export-helper-DlAUqK2U.js";const us={class:"stock-monitor-page"},cs={class:"page-header"},rs={class:"module-nav"},vs=["onClick"],ys={class:"module-icon"},ms={class:"module-name"},ps={class:"header-right"},ks={class:"page-main"},fs={class:"monitor-container"},_s={class:"sidebar"},bs={class:"list-group"},hs=["onClick"],gs={class:"list-info"},Cs={class:"list-name"},ws={class:"list-count"},As={class:"list-actions"},Ms=["onClick"],Ls=["onClick"],Ss={class:"main-content"},xs={key:0,class:"list-content"},Fs={class:"content-header"},$s={class:"list-title"},Rs={class:"quick-search"},Vs={class:"stock-list"},Ds={key:0,class:"empty-state"},qs={class:"stock-header"},Hs={class:"stock-info"},Ts={class:"stock-code"},Us={class:"stock-name"},Bs={class:"stock-tags"},Os={class:"stock-config"},Es={class:"config-item"},Ks={class:"config-item"},Ns={class:"config-item"},zs={class:"stock-actions"},Js=["onClick"],Is={key:1,class:"no-list-selected"},js={key:0,class:"search-panel"},Gs={class:"search-panel-header"},Ps={class:"search-results"},Qs={key:0,class:"loading"},Ws=["onClick"],Xs={class:"result-info"},Ys={class:"result-code"},Zs={class:"result-name"},se={class:"modal"},ee={class:"modal-header"},te={class:"modal-body"},le={class:"form-group"},ne={class:"form-group"},oe={class:"modal-footer"},ae={class:"modal modal-large"},ie={class:"modal-header"},de={key:0,class:"modal-body"},ue={class:"stock-preview"},ce={class:"stock-code"},re={class:"stock-name"},ve={class:"config-section"},ye={class:"form-row"},me={class:"form-group"},pe=["value"],ke={class:"form-group"},fe=["value"],_e={class:"form-group checkbox-group"},be={class:"config-section"},he={class:"checkbox-group"},ge=["value"],Ce={class:"config-section"},we={class:"tag-selector"},Ae=["value"],Me={class:"modal-footer"},Le=ts({__name:"StockMonitorView",setup(Se){const L=as(),J=is(),H=c("stock-monitor"),I=[{id:"stock-monitor",name:"è‚¡ç¥¨ç›‘è§†",icon:"ğŸ“Š"},{id:"fund-monitor",name:"åŸºé‡‘ç›‘è§†",icon:"ğŸ’°"},{id:"analytics",name:"æ•°æ®åˆ†æ",icon:"ğŸ“ˆ"},{id:"alerts",name:"é¢„è­¦ä¸­å¿ƒ",icon:"ğŸ””"}],r=c([{id:"1",name:"é‡ç‚¹å…³æ³¨",description:"é‡ç‚¹è·Ÿè¸ªçš„è‚¡ç¥¨",createdAt:new Date,stocks:[]},{id:"2",name:"é•¿çº¿æŒä»“",description:"é•¿æœŸæŠ•èµ„çš„æ ‡çš„",createdAt:new Date,stocks:[]}]),p=c(null),u=c(null),k=c(!1),w=c(""),T=c([]),x=c(!1),A=c(!1),d=c(null),h=c(!1),F=c(null),U=[{value:"realtime",label:"å®æ—¶"},{value:"daily",label:"æ¯æ—¥"},{value:"weekly",label:"æ¯å‘¨"},{value:"manual",label:"æ‰‹åŠ¨"}],B=[{value:"30",label:"30å¤©"},{value:"90",label:"90å¤©"},{value:"180",label:"180å¤©"},{value:"365",label:"365å¤©"},{value:"all",label:"å…¨éƒ¨"}],j=[{value:"MA5",label:"MA5"},{value:"MA10",label:"MA10"},{value:"MA20",label:"MA20"},{value:"MA60",label:"MA60"},{value:"RSI",label:"RSI"},{value:"MACD",label:"MACD"},{value:"KDJ",label:"KDJ"},{value:"BOLL",label:"BOLL"}],G=["ç§‘æŠ€è‚¡","è“ç­¹","ETF","æ–°èƒ½æº","åŒ»è¯","æ¶ˆè´¹","é“¶è¡Œ","åœ°äº§","å†›å·¥"],f=N(()=>r.value.find(l=>l.id===p.value)||null),O=N(()=>{var l;return((l=f.value)==null?void 0:l.stocks)||[]}),E=async()=>{w.value.trim()&&(x.value=!0,A.value=!0,setTimeout(()=>{T.value=[{id:"1",code:"000001",name:"å¹³å®‰é“¶è¡Œ",type:"stock",market:"sh",syncFrequency:"daily",syncHistory:!1,historyRange:"30",indicators:[],alerts:[],tags:[]},{id:"2",code:"600036",name:"æ‹›å•†é“¶è¡Œ",type:"stock",market:"sh",syncFrequency:"daily",syncHistory:!1,historyRange:"30",indicators:[],alerts:[],tags:[]},{id:"3",code:"000002",name:"ä¸‡ç§‘A",type:"stock",market:"sz",syncFrequency:"daily",syncHistory:!1,historyRange:"30",indicators:[],alerts:[],tags:[]},{id:"4",code:"600519",name:"è´µå·èŒ…å°",type:"stock",market:"sh",syncFrequency:"daily",syncHistory:!1,historyRange:"30",indicators:[],alerts:[],tags:[]},{id:"5",code:"510300",name:"æ²ªæ·±300ETF",type:"fund",market:"sh",syncFrequency:"daily",syncHistory:!1,historyRange:"30",indicators:[],alerts:[],tags:[]}].filter(l=>l.code.includes(w.value)||l.name.includes(w.value)),x.value=!1},500))},K=()=>{u.value={id:"",name:"",description:"",createdAt:new Date,stocks:[]},k.value=!0},P=l=>{u.value={...l},k.value=!0},Q=()=>{if(u.value){if(u.value.id){const l=r.value.findIndex(e=>e.id===u.value.id);l!==-1&&(r.value[l]={...u.value})}else{const l={...u.value,id:Date.now().toString(),createdAt:new Date,stocks:[]};r.value.push(l),p.value=l.id}k.value=!1,u.value=null}},W=l=>{var e;confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç›‘æ§åˆ—è¡¨å—ï¼Ÿ")&&(r.value=r.value.filter(t=>t.id!==l),p.value===l&&(p.value=((e=r.value[0])==null?void 0:e.id)||null))},X=l=>{F.value=l,A.value=!0},Y=l=>{d.value={...l,syncFrequency:"daily",syncHistory:!0,historyRange:"90",indicators:[],alerts:[],tags:[]},A.value=!1,h.value=!0},Z=()=>{if(!d.value||!F.value)return;const l=r.value.find(e=>e.id===F.value);if(l){const e={...d.value,id:Date.now().toString()};l.stocks.push(e)}h.value=!1,d.value=null},ss=l=>{var e;confirm("ç¡®å®šè¦ä»åˆ—è¡¨ä¸­ç§»é™¤è¯¥æ ‡çš„å—ï¼Ÿ")&&((e=f.value)==null||e.stocks.forEach((t,i)=>{var _;t.id===l&&((_=f.value)==null||_.stocks.splice(i,1))}))},es=l=>{H.value=l,l==="fund-monitor"?L.push("/fund-monitor"):l==="analytics"?L.push("/analytics"):l==="alerts"&&L.push("/alerts")};return ls(()=>{J.initAuth(),r.value.length>0&&(p.value=r.value[0].id)}),(l,e)=>(a(),o("div",us,[s("header",cs,[e[17]||(e[17]=s("div",{class:"header-left"},[s("h1",{class:"logo"},"è‚¡ç¥¨åŸºé‡‘ä¸ªäººç›‘è§†ç³»ç»Ÿ")],-1)),s("div",rs,[(a(),o(v,null,y(I,t=>s("button",{key:t.id,class:C(["module-btn",{active:H.value===t.id}]),onClick:i=>es(t.id)},[s("span",ys,n(t.icon),1),s("span",ms,n(t.name),1)],10,vs)),64))]),s("div",ps,[s("button",{class:"back-btn",onClick:e[0]||(e[0]=t=>ns(L).push("/dashboard"))}," è¿”å›ä»ªè¡¨ç›˜ ")])]),s("main",ks,[s("div",fs,[s("aside",_s,[s("div",{class:"sidebar-header"},[e[18]||(e[18]=s("h3",null,"ç›‘æ§åˆ—è¡¨",-1)),s("button",{class:"add-btn",onClick:K},"+")]),s("div",bs,[(a(!0),o(v,null,y(r.value,t=>(a(),o("div",{key:t.id,class:C(["list-item",{active:p.value===t.id}]),onClick:i=>p.value=t.id},[s("div",gs,[s("span",Cs,n(t.name),1),s("span",ws,n(t.stocks.length)+" ä¸ªæ ‡çš„",1)]),s("div",As,[s("button",{class:"action-btn",onClick:S(i=>P(t),["stop"])},"ç¼–è¾‘",8,Ms),s("button",{class:"action-btn delete",onClick:S(i=>W(t.id),["stop"])},"åˆ é™¤",8,Ls)])],10,hs))),128))]),s("div",{class:"sidebar-footer"},[s("button",{class:"add-list-btn",onClick:K},[...e[19]||(e[19]=[s("span",null,"+",-1),M(" æ–°å»ºç›‘æ§åˆ—è¡¨ ",-1)])])])]),s("section",Ss,[f.value?(a(),o("div",xs,[s("div",Fs,[s("div",$s,[s("h2",null,n(f.value.name),1),s("p",null,n(f.value.description),1)]),s("button",{class:"add-stock-btn",onClick:e[1]||(e[1]=t=>X(f.value.id))},[...e[20]||(e[20]=[s("span",null,"+",-1),M(" æ·»åŠ æ ‡çš„ ",-1)])])]),s("div",Rs,[m(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.value=t),type:"text",placeholder:"è¾“å…¥ä»£ç æˆ–åç§°æœç´¢...",onKeyup:os(E,["enter"])},null,544),[[$,w.value]]),s("button",{class:"search-btn",onClick:E},"æœç´¢")]),s("div",Vs,[O.value.length===0?(a(),o("div",Ds,[...e[21]||(e[21]=[s("div",{class:"empty-icon"},"ğŸ“‹",-1),s("h3",null,"æš‚æ— ç›‘æ§æ ‡çš„",-1),s("p",null,"ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ è‚¡ç¥¨æˆ–åŸºé‡‘è¿›è¡Œç›‘æ§",-1)])])):g("",!0),(a(!0),o(v,null,y(O.value,t=>{var i,_;return a(),o("div",{key:t.id,class:"stock-card"},[s("div",qs,[s("div",Hs,[s("span",Ts,n(t.code),1),s("span",Us,n(t.name),1),s("span",{class:C(["stock-type",t.type])},n(t.type==="stock"?"è‚¡ç¥¨":"åŸºé‡‘"),3)]),s("div",Bs,[(a(!0),o(v,null,y(t.tags,b=>(a(),o("span",{key:b,class:"tag"},n(b),1))),128))])]),s("div",Os,[s("div",Es,[e[22]||(e[22]=s("label",null,"åŒæ­¥é¢‘ç‡",-1)),s("span",null,n((i=U.find(b=>b.value===t.syncFrequency))==null?void 0:i.label),1)]),s("div",Ks,[e[23]||(e[23]=s("label",null,"å†å²æ•°æ®",-1)),s("span",null,n((_=B.find(b=>b.value===t.historyRange))==null?void 0:_.label),1)]),s("div",Ns,[e[24]||(e[24]=s("label",null,"æŒ‡æ ‡",-1)),s("span",null,n(t.indicators.length>0?t.indicators.join(", "):"æœªé…ç½®"),1)])]),s("div",zs,[s("button",{class:"stock-btn",onClick:b=>ss(t.id)},"ç§»é™¤",8,Js)])])}),128))])])):(a(),o("div",Is,[...e[25]||(e[25]=[s("div",{class:"empty-icon"},"ğŸ“Š",-1),s("h3",null,"é€‰æ‹©ä¸€ä¸ªç›‘æ§åˆ—è¡¨",-1),s("p",null,"ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„ç›‘æ§åˆ—è¡¨",-1)])]))])])]),R(D,{name:"slide"},{default:V(()=>[A.value?(a(),o("div",js,[s("div",Gs,[e[26]||(e[26]=s("h3",null,"æœç´¢ç»“æœ",-1)),s("button",{class:"close-btn",onClick:e[3]||(e[3]=t=>A.value=!1)},"Ã—")]),s("div",Ps,[x.value?(a(),o("div",Qs,"æœç´¢ä¸­...")):g("",!0),(a(!0),o(v,null,y(T.value,t=>(a(),o("div",{key:t.id,class:"search-result-item",onClick:i=>Y(t)},[s("div",Xs,[s("span",Ys,n(t.code),1),s("span",Zs,n(t.name),1),s("span",{class:C(["result-type",t.type])},n(t.type==="stock"?"è‚¡ç¥¨":"åŸºé‡‘"),3),s("span",{class:C(["result-market",t.market])},n(t.market==="sh"?"æ²ªå¸‚":"æ·±å¸‚"),3)]),e[27]||(e[27]=s("button",{class:"add-btn-small"},"æ·»åŠ ",-1))],8,Ws))),128))])])):g("",!0)]),_:1}),R(D,{name:"fade"},{default:V(()=>{var t;return[k.value?(a(),o("div",{key:0,class:"modal-overlay",onClick:e[8]||(e[8]=S(i=>k.value=!1,["self"]))},[s("div",se,[s("div",ee,[s("h3",null,n((t=u.value)!=null&&t.id?"ç¼–è¾‘ç›‘æ§åˆ—è¡¨":"æ–°å»ºç›‘æ§åˆ—è¡¨"),1),s("button",{class:"close-btn",onClick:e[4]||(e[4]=i=>k.value=!1)},"Ã—")]),s("div",te,[s("div",le,[e[28]||(e[28]=s("label",null,"åˆ—è¡¨åç§°",-1)),m(s("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>u.value.name=i),type:"text",placeholder:"è¾“å…¥åˆ—è¡¨åç§°"},null,512),[[$,u.value.name]])]),s("div",ne,[e[29]||(e[29]=s("label",null,"æè¿°",-1)),m(s("textarea",{"onUpdate:modelValue":e[6]||(e[6]=i=>u.value.description=i),placeholder:"åˆ—è¡¨æè¿°ï¼ˆå¯é€‰ï¼‰",rows:"3"},null,512),[[$,u.value.description]])])]),s("div",oe,[s("button",{class:"btn-secondary",onClick:e[7]||(e[7]=i=>k.value=!1)},"å–æ¶ˆ"),s("button",{class:"btn-primary",onClick:Q},"ä¿å­˜")])])])):g("",!0)]}),_:1}),R(D,{name:"fade"},{default:V(()=>[h.value?(a(),o("div",{key:0,class:"modal-overlay",onClick:e[16]||(e[16]=S(t=>h.value=!1,["self"]))},[s("div",ae,[s("div",ie,[e[30]||(e[30]=s("h3",null,"é…ç½®ç›‘æ§å‚æ•°",-1)),s("button",{class:"close-btn",onClick:e[9]||(e[9]=t=>h.value=!1)},"Ã—")]),d.value?(a(),o("div",de,[s("div",ue,[s("span",ce,n(d.value.code),1),s("span",re,n(d.value.name),1)]),s("div",ve,[e[34]||(e[34]=s("h4",null,"åŒæ­¥è®¾ç½®",-1)),s("div",ye,[s("div",me,[e[31]||(e[31]=s("label",null,"åŒæ­¥é¢‘ç‡",-1)),m(s("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>d.value.syncFrequency=t)},[(a(),o(v,null,y(U,t=>s("option",{key:t.value,value:t.value},n(t.label),9,pe)),64))],512),[[z,d.value.syncFrequency]])]),s("div",ke,[e[32]||(e[32]=s("label",null,"å†å²æ•°æ®èŒƒå›´",-1)),m(s("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>d.value.historyRange=t)},[(a(),o(v,null,y(B,t=>s("option",{key:t.value,value:t.value},n(t.label),9,fe)),64))],512),[[z,d.value.historyRange]])])]),s("div",_e,[s("label",null,[m(s("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>d.value.syncHistory=t)},null,512),[[q,d.value.syncHistory]]),e[33]||(e[33]=M(" åŒæ­¥å†å²æ•°æ® ",-1))])])]),s("div",be,[e[35]||(e[35]=s("h4",null,"è®¡ç®—æŒ‡æ ‡",-1)),s("div",he,[(a(),o(v,null,y(j,t=>s("label",{key:t.value,class:"checkbox-item"},[m(s("input",{type:"checkbox",value:t.value,"onUpdate:modelValue":e[13]||(e[13]=i=>d.value.indicators=i)},null,8,ge),[[q,d.value.indicators]]),M(" "+n(t.label),1)])),64))])]),s("div",Ce,[e[36]||(e[36]=s("h4",null,"è‡ªå®šä¹‰æ ‡ç­¾",-1)),s("div",we,[(a(),o(v,null,y(G,t=>{var i;return s("label",{key:t,class:C(["tag-option",{selected:(i=d.value.tags)==null?void 0:i.includes(t)}])},[m(s("input",{type:"checkbox",value:t,"onUpdate:modelValue":e[14]||(e[14]=_=>d.value.tags=_),hidden:""},null,8,Ae),[[q,d.value.tags]]),M(" "+n(t),1)],2)}),64))])])])):g("",!0),s("div",Me,[s("button",{class:"btn-secondary",onClick:e[15]||(e[15]=t=>h.value=!1)},"å–æ¶ˆ"),s("button",{class:"btn-primary",onClick:Z},"ä¿å­˜é…ç½®")])])])):g("",!0)]),_:1})]))}}),Re=ds(Le,[["__scopeId","data-v-558688a0"]]);export{Re as default};
