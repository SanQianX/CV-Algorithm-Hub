import{d as mt,o as _t,c as n,p as t,u as gt,E as P,B as j,C as H,K as bt,A as u,D as g,z as a,I as c,J as y,L as kt,x as ft,r as v,F as N,e as o}from"./vendor-EuZm8Jb1.js";import{_ as yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const wt={class:"data-explorer-page"},xt={class:"page-header"},Ct={class:"header-left"},$t={class:"header-right"},Mt={class:"search-box"},zt={class:"page-main"},Dt={class:"explorer-container"},Vt={key:1,class:"stats-cards"},Bt={class:"stat-card"},St={class:"stat-info"},Tt={class:"stat-value"},jt={class:"stat-card"},Ft={class:"stat-info"},Lt={class:"stat-value"},At={class:"stat-card"},Pt={class:"stat-info"},Ht={class:"stat-value"},It={class:"stat-card"},Ut={class:"stat-info"},Kt={class:"stat-value"},Rt={class:"tabs"},Et=["disabled"],Nt=["disabled"],Gt={key:2,class:"tab-content"},Jt={class:"path-bar"},Wt={class:"path-value"},qt={class:"directory-grid"},Ot=["onClick"],Qt={class:"item-icon"},Xt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Yt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Zt={class:"item-info"},te={class:"item-name"},ee={class:"item-meta"},se={key:0,class:"empty-state"},ae={key:3,class:"tab-content"},le={class:"db-header"},ne={class:"db-info"},oe={class:"db-meta"},ie={class:"tables-grid"},re=["onClick"],de={class:"table-info"},ue={class:"table-name"},ce={class:"table-count"},ve={class:"table-columns"},pe={key:0,class:"col-more"},he={key:4,class:"tab-content"},me={class:"table-header"},_e={class:"table-info"},ge={class:"record-count"},be={key:0,class:"date-range"},ke={class:"columns-section"},fe={class:"columns-list"},ye={class:"data-table-container"},we={class:"data-table"},xe={key:0,class:"empty-table"},Ce={key:0,class:"pagination"},$e=["disabled"],Me={class:"page-info"},ze=["disabled"],De={key:5,class:"tab-content"},Ve={key:0,class:"finance-summary"},Be={class:"summary-card"},Se={class:"summary-stats"},Te={class:"stat"},je={class:"value"},Fe={class:"stat"},Le={class:"value"},Ae={class:"stat"},Pe={class:"value"},He={class:"stat"},Ie={class:"value"},Ue={key:0,class:"date-range"},Ke={class:"filters-section"},Re={class:"filters"},Ee={class:"filter-group"},Ne={class:"filter-group"},Ge={class:"filter-group"},Je={class:"filter-group"},We={class:"filter-actions"},qe={class:"finance-table"},Oe={class:"data-table"},Qe={class:"id-cell"},Xe={class:"code-cell"},Ye={key:0,class:"empty-table"},Ze={key:1,class:"load-more"},ts=["disabled"],es={key:6,class:"tab-content"},ss={key:0,class:"search-results"},as={class:"result-info"},ls={class:"result-db"},ns={class:"result-name"},os={class:"result-meta"},is={class:"result-db"},rs={class:"result-name"},ds={class:"result-column"},us={class:"result-meta"},cs={key:1,class:"no-results"},vs={key:2,class:"search-hint"},$="",ps=mt({__name:"DataExplorerView",setup(hs){const at=ft(),d=v("explorer"),p=v(!1),F=v(""),G=v("success"),J=v("K:/data/databases"),I=v([]),b=v(null),w=v(null),M=v(null),B=v(null),k=v(null),U=v([]),K=v([]),h=N({page:1,pageSize:50,total:0,totalPages:0}),L=v([]),x=N({page:1,pageSize:50,total:0}),z=v(""),S=v([]),D=v(null),i=N({recordType:"fund",code:"",startDate:"",endDate:""}),C=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),T=(l,e)=>{F.value=l,G.value=e,setTimeout(()=>{F.value=""},3e3)},lt=async l=>{p.value=!0,J.value=l;try{const e=await fetch(`${$}/api/v1/explorer/directories?path=${encodeURIComponent(l)}`,{headers:C()});if(e.ok){const r=await e.json();I.value=r||[]}}catch{T("获取目录列表失败","error")}finally{p.value=!1}},nt=async l=>{p.value=!0,b.value=l,w.value=null;try{const e=await fetch(`${$}/api/v1/explorer/database/${l}`,{headers:C()});e.ok&&(M.value=await e.json())}catch{T("获取数据库信息失败","error")}finally{p.value=!1}},ot=async(l,e)=>{p.value=!0,w.value=e;try{const r=await fetch(`${$}/api/v1/explorer/database/${l}/tables/${e}/preview`,{headers:C()});r.ok&&(B.value=await r.json())}catch{T("获取表预览失败","error")}finally{p.value=!1}},W=async(l,e,r=1)=>{p.value=!0,h.page=r;try{const f=await fetch(`${$}/api/v1/explorer/database/${l}/tables/${e}/data?page=${r}&page_size=${h.pageSize}`,{headers:C()});if(f.ok){const V=await f.json();U.value=V.data||[],K.value=V.columns||[],h.total=V.total,h.totalPages=V.total_pages}}catch{T("获取表数据失败","error")}finally{p.value=!1}},it=async()=>{try{const l=await fetch(`${$}/api/v1/explorer/database/finance/finance-summary`,{headers:C()});l.ok&&(k.value=await l.json())}catch(l){console.error("获取金融摘要失败:",l)}},R=async(l=1)=>{p.value=!0,x.page=l;let e=`${$}/api/v1/explorer/database/finance/finance-records?page=${l}&page_size=${x.pageSize}&record_type=${i.recordType}`;i.code&&(e+=`&code=${i.code}`),i.startDate&&(e+=`&start_date=${i.startDate}`),i.endDate&&(e+=`&end_date=${i.endDate}`);try{const r=await fetch(e,{headers:C()});if(r.ok){const f=await r.json();L.value=f.data||[],x.total=f.total}}catch{T("获取金融记录失败","error")}finally{p.value=!1}},rt=async()=>{if(!z.value.trim()){S.value=[];return}try{const l=await fetch(`${$}/api/v1/explorer/search?keyword=${encodeURIComponent(z.value)}`,{headers:C()});if(l.ok){const e=await l.json();S.value=e.results||[]}}catch{T("搜索失败","error")}},dt=async()=>{try{const l=await fetch(`${$}/api/v1/explorer/stats`,{headers:C()});l.ok&&(D.value=await l.json())}catch(l){console.error("获取统计失败:",l)}},E=l=>{if(!l)return"-";const e=["B","KB","MB","GB"],r=Math.floor(Math.log(l)/Math.log(1024));return`${(l/Math.pow(1024,r)).toFixed(2)} ${e[r]}`},A=l=>{if(!l)return"-";try{return new Date(l).toLocaleString("zh-CN")}catch{return l}},ut=l=>{var e;if(l.type==="file"&&l.name.endsWith(".db")){const r=(e=l.path.split("/").pop())==null?void 0:e.replace(".db","");r&&(d.value="database",nt(r))}},ct=l=>{b.value&&(d.value="table",ot(b.value,l),W(b.value,l))},q=l=>{b.value&&w.value&&W(b.value,w.value,l)},vt=l=>{R(l)},pt=()=>{x.page<Math.ceil(x.total/x.pageSize)&&vt(x.page+1)},ht=()=>{i.recordType="fund",i.code="",i.startDate="",i.endDate="",R(1)};return _t(()=>{lt("K:/data/databases"),dt(),it()}),(l,e)=>{var r,f,V,O,Q;return o(),n("div",wt,[t("header",xt,[t("div",Ct,[t("button",{class:"back-btn",onClick:e[0]||(e[0]=s=>gt(at).push("/dashboard"))},[...e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),P(" 返回 ",-1)])]),e[16]||(e[16]=t("h1",{class:"logo"},"数据目录浏览器",-1))]),t("div",$t,[t("div",Mt,[e[17]||(e[17]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),j(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>z.value=s),type:"text",placeholder:"搜索表名、列名...",onKeyup:bt(rt,["enter"])},null,544),[[H,z.value]]),z.value?(o(),n("button",{key:0,class:"search-clear",onClick:e[2]||(e[2]=s=>{z.value="",S.value=[]})},"×")):u("",!0)])])]),t("main",zt,[t("div",Dt,[F.value?(o(),n("div",{key:0,class:g(["message",G.value])},a(F.value),3)):u("",!0),D.value?(o(),n("div",Vt,[t("div",Bt,[e[19]||(e[19]=t("div",{class:"stat-icon blue"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 8.25h15m-15 4.5h15m-15 4.5h15M5.25 9v3.75m0 0h3.75m-3.75 0V9m0 3.75h3.75M9 11.25v1.5M12 9v3.75m3-6v6"})])],-1)),t("div",St,[t("span",Tt,a(D.value.total_databases||((r=D.value.databases)==null?void 0:r.length)||0),1),e[18]||(e[18]=t("span",{class:"stat-label"},"数据库",-1))])]),t("div",jt,[e[21]||(e[21]=t("div",{class:"stat-icon green"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})])],-1)),t("div",Ft,[t("span",Lt,a(D.value.total_tables||0),1),e[20]||(e[20]=t("span",{class:"stat-label"},"数据表",-1))])]),t("div",At,[e[23]||(e[23]=t("div",{class:"stat-icon purple"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0z"})])],-1)),t("div",Pt,[t("span",Ht,a(((f=D.value.total_records)==null?void 0:f.toLocaleString())||0),1),e[22]||(e[22]=t("span",{class:"stat-label"},"总记录数",-1))])]),t("div",It,[e[25]||(e[25]=t("div",{class:"stat-icon orange"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])],-1)),t("div",Ut,[t("span",Kt,a(E(D.value.total_size)),1),e[24]||(e[24]=t("span",{class:"stat-label"},"总大小",-1))])])])):u("",!0),t("div",Rt,[t("button",{class:g(["tab-btn",{active:d.value==="explorer"}]),onClick:e[3]||(e[3]=s=>d.value="explorer")}," 文件浏览器 ",2),t("button",{class:g(["tab-btn",{active:d.value==="database"}]),onClick:e[4]||(e[4]=s=>d.value="database"),disabled:!b.value}," 数据库详情 "+a(b.value?`(${b.value})`:""),11,Et),t("button",{class:g(["tab-btn",{active:d.value==="table"}]),onClick:e[5]||(e[5]=s=>d.value="table"),disabled:!w.value}," 表数据 "+a(w.value?`(${w.value})`:""),11,Nt),t("button",{class:g(["tab-btn",{active:d.value==="finance"}]),onClick:e[6]||(e[6]=s=>d.value="finance")}," 金融数据 ",2),t("button",{class:g(["tab-btn",{active:d.value==="search"}]),onClick:e[7]||(e[7]=s=>d.value="search")}," 搜索结果 ("+a(S.value.length)+") ",3)]),d.value==="explorer"?(o(),n("div",Gt,[t("div",Jt,[e[26]||(e[26]=t("span",{class:"path-label"},"当前路径:",-1)),t("span",Wt,a(J.value),1)]),t("div",qt,[(o(!0),n(c,null,y(I.value,s=>(o(),n("div",{key:s.path,class:g(["dir-item",{"is-file":s.type==="file"}]),onClick:m=>ut(s)},[t("div",Qt,[s.type==="directory"?(o(),n("svg",Xt,[...e[27]||(e[27]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"},null,-1)])])):(o(),n("svg",Yt,[...e[28]||(e[28]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"},null,-1)])]))]),t("div",Zt,[t("span",te,a(s.name),1),t("span",ee,[s.size?(o(),n(c,{key:0},[P(a(E(s.size)),1)],64)):(o(),n(c,{key:1},[P(a(s.children_count||0)+" 项",1)],64))])])],10,Ot))),128)),I.value.length===0&&!p.value?(o(),n("div",se,[...e[29]||(e[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})],-1),t("p",null,"目录为空",-1)])])):u("",!0)])])):u("",!0),d.value==="database"&&M.value?(o(),n("div",ae,[t("div",le,[t("div",ne,[t("h2",null,a(M.value.name),1),t("div",oe,[t("span",null,a(E(M.value.size)),1),t("span",null,a(M.value.table_count)+" 个表",1),t("span",null,a(M.value.db_type.toUpperCase()),1)])])]),t("div",ie,[(o(!0),n(c,null,y(M.value.tables,s=>(o(),n("div",{key:s.name,class:"table-card",onClick:m=>ct(s.name)},[e[30]||(e[30]=t("div",{class:"table-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125m-3.75 0v7.5c0 .621.504 1.125 1.125 1.125m3.75-3.75C9.496 8.25 10 7.746 10 7.125m-3.75 0v3.75c0 .621.504 1.125 1.125 1.125m0 0h1.5"})])],-1)),t("div",de,[t("span",ue,a(s.name),1),t("span",ce,a(s.row_count.toLocaleString())+" 条记录",1)]),t("div",ve,[(o(!0),n(c,null,y(s.columns.slice(0,3),m=>(o(),n("span",{key:m.name,class:"col-tag"},a(m.name),1))),128)),s.columns.length>3?(o(),n("span",pe," +"+a(s.columns.length-3),1)):u("",!0)])],8,re))),128))])])):u("",!0),d.value==="table"&&B.value?(o(),n("div",he,[t("div",me,[t("div",_e,[t("h3",null,a(w.value),1),t("span",ge,a(h.total.toLocaleString())+" 条记录",1),B.value.date_range?(o(),n("span",be,a(A(B.value.date_range.start))+" - "+a(A(B.value.date_range.end)),1)):u("",!0)])]),t("div",ke,[e[31]||(e[31]=t("h4",null,"列信息",-1)),t("div",fe,[(o(!0),n(c,null,y(B.value.columns,s=>(o(),n("span",{key:s.name,class:"column-tag"},[P(a(s.name)+" ",1),t("small",null,a(s.type),1)]))),128))])]),t("div",ye,[t("table",we,[t("thead",null,[t("tr",null,[(o(!0),n(c,null,y(K.value,s=>(o(),n("th",{key:s},a(s),1))),128))])]),t("tbody",null,[(o(!0),n(c,null,y(U.value,(s,m)=>(o(),n("tr",{key:m},[(o(!0),n(c,null,y(K.value,_=>(o(),n("td",{key:_},a(s[_]!==null&&s[_]!==void 0?s[_]:"-"),1))),128))]))),128))])]),U.value.length===0&&!p.value?(o(),n("div",xe," 暂无数据 ")):u("",!0)]),h.totalPages>1?(o(),n("div",Ce,[t("button",{class:"page-btn",disabled:h.page===1,onClick:e[8]||(e[8]=s=>q(h.page-1))}," 上一页 ",8,$e),t("span",Me," 第 "+a(h.page)+" / "+a(h.totalPages)+" 页 ",1),t("button",{class:"page-btn",disabled:h.page===h.totalPages,onClick:e[9]||(e[9]=s=>q(h.page+1))}," 下一页 ",8,ze)])):u("",!0)])):u("",!0),d.value==="finance"?(o(),n("div",De,[k.value?(o(),n("div",Ve,[t("div",Be,[e[36]||(e[36]=t("h4",null,"金融数据概览",-1)),t("div",Se,[t("div",Te,[e[32]||(e[32]=t("span",{class:"label"},"总记录数",-1)),t("span",je,a(((V=k.value.total_records)==null?void 0:V.toLocaleString())||0),1)]),t("div",Fe,[e[33]||(e[33]=t("span",{class:"label"},"基金详情",-1)),t("span",Le,a(k.value.fund_details_count||0),1)]),t("div",Ae,[e[34]||(e[34]=t("span",{class:"label"},"基金代码",-1)),t("span",Pe,a(((O=k.value.fund_codes)==null?void 0:O.length)||0),1)]),t("div",He,[e[35]||(e[35]=t("span",{class:"label"},"股票代码",-1)),t("span",Ie,a(((Q=k.value.stock_codes)==null?void 0:Q.length)||0),1)])]),k.value.date_range?(o(),n("div",Ue," 数据时间范围: "+a(A(k.value.date_range.start))+" - "+a(A(k.value.date_range.end)),1)):u("",!0)])])):u("",!0),t("div",Ke,[e[42]||(e[42]=t("h4",null,"数据筛选",-1)),t("div",Re,[t("div",Ee,[e[38]||(e[38]=t("label",null,"数据类型",-1)),j(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>i.recordType=s)},[...e[37]||(e[37]=[t("option",{value:"fund"},"基金",-1),t("option",{value:"stock"},"股票",-1)])],512),[[kt,i.recordType]])]),t("div",Ne,[e[39]||(e[39]=t("label",null,"代码",-1)),j(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.code=s),type:"text",placeholder:"基金/股票代码"},null,512),[[H,i.code]])]),t("div",Ge,[e[40]||(e[40]=t("label",null,"开始日期",-1)),j(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>i.startDate=s),type:"date"},null,512),[[H,i.startDate]])]),t("div",Je,[e[41]||(e[41]=t("label",null,"结束日期",-1)),j(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>i.endDate=s),type:"date"},null,512),[[H,i.endDate]])]),t("div",We,[t("button",{class:"btn-primary",onClick:e[14]||(e[14]=s=>R(1))},"查询"),t("button",{class:"btn-secondary",onClick:ht},"重置")])])]),t("div",qe,[t("table",Oe,[t("thead",null,[t("tr",null,[e[51]||(e[51]=t("th",null,"ID",-1)),e[52]||(e[52]=t("th",null,"代码",-1)),e[53]||(e[53]=t("th",null,"日期",-1)),i.recordType==="fund"?(o(),n(c,{key:0},[e[43]||(e[43]=t("th",null,"净值",-1)),e[44]||(e[44]=t("th",null,"涨跌",-1)),e[45]||(e[45]=t("th",null,"涨跌幅",-1))],64)):(o(),n(c,{key:1},[e[46]||(e[46]=t("th",null,"开盘",-1)),e[47]||(e[47]=t("th",null,"最高",-1)),e[48]||(e[48]=t("th",null,"最低",-1)),e[49]||(e[49]=t("th",null,"收盘",-1)),e[50]||(e[50]=t("th",null,"成交量",-1))],64))])]),t("tbody",null,[(o(!0),n(c,null,y(L.value,s=>{var m,_,X,Y,Z,tt,et,st;return o(),n("tr",{key:s.id},[t("td",Qe,a(s.id.slice(0,8))+"...",1),t("td",Xe,a(s.code),1),t("td",null,a(s.date),1),i.recordType==="fund"?(o(),n(c,{key:0},[t("td",null,a(((m=s.nav)==null?void 0:m.toFixed(4))||"-"),1),t("td",{class:g(s.nav_change>=0?"positive":"negative")},a(((_=s.nav_change)==null?void 0:_.toFixed(4))||"-"),3),t("td",{class:g(s.nav_change_percent>=0?"positive":"negative")},a(((X=s.nav_change_percent)==null?void 0:X.toFixed(2))||"-")+"% ",3)],64)):(o(),n(c,{key:1},[t("td",null,a(((Y=s.open)==null?void 0:Y.toFixed(2))||"-"),1),t("td",null,a(((Z=s.high)==null?void 0:Z.toFixed(2))||"-"),1),t("td",null,a(((tt=s.low)==null?void 0:tt.toFixed(2))||"-"),1),t("td",null,a(((et=s.close)==null?void 0:et.toFixed(2))||"-"),1),t("td",null,a(((st=s.volume)==null?void 0:st.toLocaleString())||"-"),1)],64))])}),128))])]),L.value.length===0&&!p.value?(o(),n("div",Ye," 暂无数据 ")):u("",!0)]),x.total>L.value.length?(o(),n("div",Ze,[t("button",{onClick:pt,disabled:p.value},a(p.value?"加载中...":"加载更多"),9,ts)])):u("",!0)])):u("",!0),d.value==="search"?(o(),n("div",es,[S.value.length>0?(o(),n("div",ss,[(o(!0),n(c,null,y(S.value,(s,m)=>{var _;return o(),n("div",{key:m,class:"search-result-item"},[t("span",{class:g(["result-type",s.type])},a(s.type),3),t("div",as,[s.type==="table"?(o(),n(c,{key:0},[t("span",ls,a(s.database),1),e[54]||(e[54]=t("span",{class:"result-sep"},"/",-1)),t("span",ns,a(s.table),1),t("span",os,a((_=s.row_count)==null?void 0:_.toLocaleString())+" 条记录",1)],64)):(o(),n(c,{key:1},[t("span",is,a(s.database),1),e[55]||(e[55]=t("span",{class:"result-sep"},"/",-1)),t("span",rs,a(s.table),1),e[56]||(e[56]=t("span",{class:"result-sep"},"/",-1)),t("span",ds,a(s.column),1),t("span",us,a(s.column_type),1)],64))])])}),128))])):z.value&&!p.value?(o(),n("div",cs,[...e[57]||(e[57]=[t("p",null,"未找到相关结果",-1)])])):(o(),n("div",vs,[...e[58]||(e[58]=[t("p",null,"输入关键词搜索表名和列名",-1)])]))])):u("",!0)])])])}}}),gs=yt(ps,[["__scopeId","data-v-7aca2eca"]]);export{gs as default};
